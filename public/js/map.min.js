var map_div=$('#map');var last_opened_info_window_id=-1;var viewPortForMobile;var firstTimeNotAlreadyViewed=!0;var infoBubble=new InfoBubble({maxWidth:300,maxHeight:227,padding:0,disableAutoPan:!0});$(function()
{$("#user_location").geocomplete().bind("geocode:result",function(event,result)
{if(ifDeviceIsMobile())
{viewPortForMobile=result.geometry.viewport;generateMarkers(viewPortForMobile)}
map_div.gmap3('get').setCenter(result.geometry.location)});$(document).on("mouseenter",".showonmap9",function(e)
{openInfoWindowByID($(this).attr('marker_id'))});$(document).on("click",".showonmap9",function(e)
{var product_id=$(this).attr('marker_id');window.location.hash='#'+product_id;openInfoWindowByID(product_id);showAddDetail(product_id)});$('.close-detail').click(function()
{window.location.hash='';closeAddDetail()});$("#offer_submit_button").click(function()
{$.ajax({headers:{'X-CSRF-TOKEN':$('meta[name=_token]').attr("content")},method:"POST",url:$("#offer_send_form").attr('action'),dataType:"json",data:$("#offer_send_form").serialize(),success:function(responce_data)
{alert('Your offer has been Sent !');$('#offer_send_form')[0].reset();$('[data-toggle="dropdown"]').parent().removeClass('open')},error:function(xhr,textStatus,errorThrown)
{if(xhr.responseJSON.error[0].length>10)
{alert(xhr.responseJSON.error[0])}
else{alert("Network error")}
$('#offer_send_form')[0].reset()}})});$("#category_filter input[type=checkbox]").change(function()
{var checkedData={};$("#category_filter input[type=checkbox]:checked").each(function(i,chk)
{checkedData[$(chk).attr("name")]=!0})});map_div.gmap3({map:{options:{navigationControl:!1,scrollwheel:!0,streetViewControl:!1,mapTypeControl:!1,zoom:12,center:new google.maps.LatLng(latitude,longitude),mapTypeId:google.maps.MapTypeId.TERRAIN}}});if($('#map_lon_min').val().length>0)
{var strictBounds=new google.maps.LatLngBounds(new google.maps.LatLng($('#map_lat_min').val(),$('#map_lon_max').val()),new google.maps.LatLng($('#map_lat_max').val(),$('#map_lon_min').val()));map_div.gmap3('get').fitBounds(strictBounds)}
google.maps.event.addListener(map_div.gmap3("get"),"click",function(event)
{try
{infoBubble.close();last_opened_info_window_id=-1;closeAddDetail()}
catch(error)
{}});google.maps.event.addListenerOnce(map_div.gmap3("get"),'tilesloaded',function()
{if(map_div.gmap3('get').getZoom()>12)
{map_div.gmap3('get').setZoom(12)}});google.maps.event.addListener(map_div.gmap3("get"),"idle",function(event)
{if(firstTimeNotAlreadyViewed)
{firstTimeNotAlreadyViewed=!1;var hashString=location.hash.substr(1);if(hashString.length>0&&isNaN(hashString))
{if(!isNaN(location.hash.substr(13)))
{$("input:checkbox").prop('checked',!1);$("input:checkbox[category_id='"+location.hash.substr(13)+"']").prop('checked',!0)}
else if(!isNaN(location.hash.substr(17)))
{$("input:checkbox").prop('checked',!1);$("input:checkbox[sub_category_id='"+location.hash.substr(17)+"']").prop('checked',!0)}}}
if(ifDeviceIsMobile())
{if(viewPortForMobile==undefined)
{var lat_tuned_map_area=50/2/69.132;var lon_tuned_map_area=50/2/52.958;viewPortForMobile=new google.maps.LatLngBounds(new google.maps.LatLng(latitude-lat_tuned_map_area,longitude-lon_tuned_map_area),new google.maps.LatLng(latitude+lat_tuned_map_area,longitude+lon_tuned_map_area));generateMarkers(viewPortForMobile)}
else{}}
else{generateMarkers(map_div.gmap3("get").getBounds())}});$('#show_paginator').bootpag({total:$('meta[name=total_no_of_pages]').attr("content"),page:$('meta[name=current_page_no]').attr("content"),maxVisible:$('meta[name=max_visible]').attr("content"),leaps:!0,wrapClass:'pagination',activeClass:'active',disabledClass:'disabled',nextClass:'next',prevClass:'prev',lastClass:'last',firstClass:'first'}).on('page',function(event,page_num)
{$("meta[name=current_page_no]").attr('content',page_num);$('meta[name=is_paginator_clicked]').attr("content",!0);if(ifDeviceIsMobile())
{generateMarkers(viewPortForMobile)}
else{generateMarkers(map_div.gmap3("get").getBounds())}
$('meta[name=is_paginator_clicked]').attr("content",!1)});$("#category_filter :checkbox").on('change',function()
{if($(this).attr('sub_category_id')==="not_available")
{$("input:checkbox[category_id='"+$(this).attr('category_id')+"']").prop('checked',$(this).prop("checked"))}
else{if($("input:checkbox[category_id='"+$(this).attr('category_id')+"'][sub_category_id!='not_available']:checked").length==$("input:checkbox[category_id='"+$(this).attr('category_id')+"'][sub_category_id!='not_available']").length)
{$("input:checkbox[category_id='"+$(this).attr('category_id')+"'][sub_category_id='not_available']").prop('checked',!0)}
else{$("input:checkbox[category_id='"+$(this).attr('category_id')+"'][sub_category_id='not_available']").prop('checked',!1)}}
if(ifDeviceIsMobile())
{generateMarkers(viewPortForMobile)}
else{generateMarkers(map_div.gmap3("get").getBounds())}});$('.range-slider').jRange({from:0,to:1000,step:1,scale:[0,100,200,300,400,500,600,700,800,900,"1000+"],format:'%s',width:100,showLabels:!1,isRange:!0,ondragend:function(value)
{if(ifDeviceIsMobile())
{generateMarkers(viewPortForMobile)}
else{generateMarkers(map_div.gmap3("get").getBounds())}}});$("#sort_ordering").change(function()
{if(ifDeviceIsMobile())
{generateMarkers(viewPortForMobile)}
else{generateMarkers(map_div.gmap3("get").getBounds())}});$("form#write_review").submit(function(e)
{e.preventDefault();$.ajax({headers:{'X-CSRF-TOKEN':$('meta[name=_token]').attr("content")},type:"POST",url:$(this).attr('action'),data:$("#write_review").serialize(),contentType:"application/x-www-form-urlencoded",dataType:"json",success:function(data)
{var rating_html='';for(var i=0;i<data.rating;i++)
{rating_html=rating_html+'<i class="fa fa-star fa-xs green-text"></i>'}
for(var i=data.rating;i<5;i++)
{rating_html=rating_html+'<i class="fa fa-star-o fa-xs"></i>'}
var html_element='<div class="col-lg-4 rone">'+data.user_name+'<br>'+rating_html+'<br/><span>'+data.time+'</span>'+'</div>'+'<div class="col-lg-8 rtwo">'+'<span>'+data.review+'</span>'+'</div>'+'<div class="clearfix margin-twenty"></div>';$('.reviews').prepend(html_element);$('.review').fadeOut()},error:function(e)
{if($("#lgn-pup").length===0)
alert('You are not eligable to give this review');else $('#lgn-pup').modal('show')},complete:function()
{$("#wait").css("display","none")}})});$("form#send_message_to_owner").submit(function(e)
{e.preventDefault();$.ajax({headers:{'X-CSRF-TOKEN':$('meta[name=_token]').attr("content")},type:"POST",url:$(this).attr('action'),data:$("#send_message_to_owner").serialize(),dataType:"json",success:function(data)
{alert('Your message has been Sent !');$('#send_message_to_owner')[0].reset();$(".sb-bottom").removeClass("open")},error:function(xhr,textStatus,errorThrown)
{if(xhr.responseJSON.length>10)
{alert(xhr.responseJSON)}
else{alert("Network error")}
$('#send_message_to_owner')[0].reset()}})});var add_id=location.hash.substr(1);if(add_id.length>0&&!isNaN(add_id))
{setTimeout(function()
{openInfoWindowByID(add_id);showAddDetail(add_id)},1500)}
$(".nav-sub-category, .nav-category").click(function(e)
{e.preventDefault();$('#category_filter').find(':checkbox').each(function()
{$(this).prop('checked',!1)});clearMarkers();$('#record_showing_start').html('0');$('#record_showing_end').html('0');if($(this).attr("class")=="nav-sub-category")
{$('#category_filter').find("[sub_category_id='"+$(this).attr('sub-category-id')+"']").trigger("click")}
else{$('#category_filter').find("[category_id='"+$(this).attr('category-id')+"']").prop('checked',!0);$('#category_filter').find("[category_id='"+$(this).attr('category-id')+"']").trigger('click')}})});function generateMarkers(bounds)
{pullPaginatorElementToFirstElement();var list=[];var location={};try
{location.lat_min=bounds.getSouthWest().lat();location.lat_max=bounds.getNorthEast().lat();location.lon_min=bounds.getSouthWest().lng();location.lon_max=bounds.getNorthEast().lng()}
catch(err)
{console.error("Element not called");console.error(err);return}
var sub_categories=[];$("input[name='sub_category[]']:checked").each(function()
{sub_categories.push($(this).val())});$.ajax({headers:{'X-CSRF-TOKEN':$("meta[name=_token]").attr('content')},url:$("meta[name=listing_map_ajax_url]").attr('content'),method:"POST",data:{lat_min:location.lat_min,lat_max:location.lat_max,lon_min:location.lon_min,lon_max:location.lon_max,current_page_no:$('meta[name=current_page_no]').attr("content"),content_per_page:$('meta[name=content_per_page]').attr("content"),sort_ordering:$('#sort_ordering').val(),price_range_min:$('#price_range').val().split(",")[0],price_range_max:$('#price_range').val().split(",")[1],sub_categories:sub_categories,search_value:$('#input_nav_search').val()},success:function(all_data)
{fixInfowindowScroll();clearMarkers();var list=[];$.each(all_data,function(key,data)
{if(key==='showing_start')
{$('#record_showing_start').html(data)}
else if(key==='showing_end')
{$('#record_showing_end').html(data)}
else if(key==='total_element')
{$('#total_match_found').html(data)}
else if(key==='total_page')
{if(data===0)
$('#show_paginator').bootpag({total:1});else $('#show_paginator').bootpag({total:data})}
else if(key==='current_page')
{}
else if(key==='data')
{$.each(data,function(index,element)
{var listing_element;if(element.user_image.length<4)
{element.user_image='../images/empty-profile.jpg'}
listing_element='<div class="col-lg-4 col-sm-6"><div class="pos-rel"><a href="#" add_id="'+element.id+'" class="add_to_wishlist wsh-lst"><img src="'+element.hearts_image+'"></img></a><div class="box showonmap9" marker_id='+element.id+'><div class="img-box-list"><img src="'+$('meta[name=upload_folder_url]').attr("content")+element.advertisement_image+'"></div><div class="box-content"><h5 class="text-center">'+element.title+'</h5><h6> $'+element.price+'</h6><div class="clearfix margin-bottom-ten"></div><img height="46" width="46" class="pull-left width-adj2" src="'+$('meta[name=upload_folder_url]').attr("content")+element.user_image+'"><div class="pull-left margin-left-ten width-adj3"><p class="pull-left dot1">'+element.description+'<br></p></div></div></div></div></div>';$("#box").append(listing_element);list.push({latLng:[element.lat,element.lon],class:"markers",options:{icon:"http://maps.google.com/mapfiles/marker_green.png",},id:element.id,data:{title:element.title,price:element.price,title_image_url:$('meta[name=upload_folder_url]').attr("content")+element.advertisement_image,description:element.description,view_detail_url:'#'+element.id,id:element.id,hearts_image:element.hearts_image},events:{click:function(marker,event,context)
{var infoWindowContent=context.data.description;infoWindowContent='<div class="map-master-div" onclick="showAddDetail('+context.data.id+')">'+'<div class="pos-rel">'+'<a href="#" onclick="addToWisList('+context.data.id+',this)" class="add_to_wishlist wsh-lst-infowindow">'+'<img src="'+context.data.hearts_image+'"></img>'+'</a>'+'<div class="box">'+'<div class="img-box-list info-image-box">'+'<img class="infowindow-image" src="'+$('meta[name=upload_folder_url]').attr("content")+element.advertisement_image+'">'+'</div>'+'<div class="box-content box-content-map">'+'<h5><div class="pull-center">'+context.data.title+'</div></h5>'+'<h6> $'+context.data.price+'</h6>'+'</div>'+'</div>'+'</div>'+'</div>';var map=$(this).gmap3("get");infoBubble.close();infoBubble.setContent(infoWindowContent);infoBubble.open(map,marker);fixInfowindowScroll();last_opened_info_window_id=context.data.id},mouseout:function()
{}}});/*=================================================*/})}
else if(key==='categories')
{$('span[categoryCount]').html("0");$('#category_filter span[categoryCount]').parent().parent().addClass('hidden-menu-item');$.each(data,function(index,element)
{$('span[categoryCount="'+element.category_id+'"]').html(element.count);$('#category_filter span[categoryCount="'+element.category_id+'"]').parent().parent().removeClass('hidden-menu-item')})}
else if(key==='sub-categories')
{$('span[subCategoryCount]').html("0");$('#category_filter span[subCategoryCount]').parent().parent().addClass('hidden-menu-item');$.each(data,function(index,element)
{$('span[subCategoryCount="'+element.sub_category_id+'"]').html(element.count);$('#category_filter span[subCategoryCount="'+element.sub_category_id+'"]').parent().parent().removeClass('hidden-menu-item')})}});map_div.gmap3({marker:{values:list}});openLastInfoWindow()},error:function(jqXHR,textStatus,errorThrown)
{console.log('AJAX Not Done Successfully')}});openLastInfoWindow()}
function showAddDetail(id)
{if(is_wishlist_propagated)
return;$.ajax({headers:{'X-CSRF-TOKEN':$('meta[name=_token]').attr("content")},method:"POST",url:$('meta[name=product_detail_ajax_url]').attr("content"),dataType:"json",data:{product_id:id},success:function(responce_data)
{$.each(responce_data,function(index_key,value_all_json)
{if(index_key.localeCompare('advertisement')==0)
{$.each(value_all_json,function(key,value)
{if(key.localeCompare('id')==0)
{$('#write_review input[name="add_id"]').val(value);$('#selected_add_id').val(value);$('#offer_selected_add_id').val(value)}
else if(key.localeCompare('is_reviewed')==0)
{if(value==1)
$('.review').hide();else $('.review').show()}
else if(key.localeCompare('is_wishlisted')==0)
{if(value==1)
{$('img.add_detail').attr('src',$('meta[name=filleds_heart_svg]').attr("content"))}
else{$('img.add_detail').attr('src',$('meta[name=svg_hearts]').attr("content"))}}
else if(key.localeCompare('is_offer_sent')==0)
{if(value==0)
$("#offer_send_warning").hide();else $("#offer_send_warning").show()}
else if(key.localeCompare('title')==0)
{$("#selected_add_title").html(value)}
else if(key.localeCompare('price')==0)
{$("#selected_add_price").html(value)}
else if(key.localeCompare('description')==0)
{$("#selected_add_description").html(value)}
else if(key.localeCompare('address')==0)
{$('#selected_add_direction').attr("address",value)}
else if(key.localeCompare('location_lat')==0)
{$('#selected_add_direction').attr("location_lat",value)}
else if(key.localeCompare('location_lon')==0)
{$('#selected_add_direction').attr("location_lon",value)}
else if(key.localeCompare('user')==0)
{$.each(value,function(tag,user_data)
{console.log(user_data)})}
else if(key.localeCompare('advertisement_images')==0)
{$('.variable-width').slick('unslick');$('.variable-width').empty();$.each(value,function(id,image)
{$('.variable-width').prepend('<div><img src="'+$('meta[name=upload_folder_url]').attr("content")+image.image_name+'"></div>')});fixImageSlider();$('.variable-width').slick(getSliderSettings())}
else if(key.localeCompare('total_views')==0)
{$('#selected_add_view_count').attr("data-original-title",value)}
else if(key.localeCompare('avg_rating')==0)
{$('#add_rating').empty();for(i=0;i<Math.round(value);i++)
{$('#add_rating').append('<i class="fa fa-star green-text"></i>')}
for(i=Math.round(value);i<5;i++)
{$('#add_rating').append('<i class="fa fa-star-o"></i>')}}})}
else if(index_key.localeCompare('reviews')==0)
{$('.reviews').empty();$.each(value_all_json,function(index,review)
{var review_data=new Object();$.each(review,function(key,value)
{if(key.localeCompare('added_on')==0)
{review_data.added_on=formatTime(convertToLocalTime(value))}
else if(key.localeCompare('rating')==0)
review_data.rating=value;else if(key.localeCompare('review')==0)
review_data.review=value;else if(key.localeCompare('user_name')==0)
review_data.user_name=value});var rating_html='';for(var i=0;i<review_data.rating;i++)
{rating_html=rating_html+'<i class="fa fa-star fa-xs green-text"></i>'}
for(var i=review_data.rating;i<5;i++)
{rating_html=rating_html+'<i class="fa fa-star-o fa-xs"></i>'}
var html_element='<div class="col-lg-4 rone">'+review_data.user_name+'<br>'+rating_html+'<br/><span>'+review_data.added_on+'</span>'+'</div>'+'<div class="col-lg-8 rtwo">'+'<span>'+review_data.review+'</span>'+'</div>'+'<div class="clearfix margin-twenty"></div>';$('.reviews').append(html_element)})}
else if(index_key.localeCompare('add_owner')==0)
{$("#offer_add_owner_name").html(value_all_json.user_name);$("#offer_add_owner_email").html(value_all_json.email);$("#offer_add_owner_cell").html(value_all_json.cell_no);$("#add_owner_image").attr("src",value_all_json.profile_picture);$("#add_owner_name").html(value_all_json.user_name);$("#add_owner_phone").html("<i class='fa fa-phone'></i> <a href='tel:"+value_all_json.cell_no+"''>"+value_all_json.cell_no+"</a>");$("#add_owner_website").html("<i class='fa fa-globe'></i> <a href='"+value_all_json.website+"''>"+value_all_json.website+"</a>");$("#add_owner_email").html("<i class='fa fa-envelope'></i> <a href='mailto:"+value_all_json.email+"''>"+value_all_json.email+"</a>");if(value_all_json.fb_verification_status=="not_verified")
$("#add_owner_fb_status").html('<i class="fa fa-facebook"></i>'+'Facebook Not Verified');else $("#add_owner_fb_status").html('<i class="fa fa-facebook"></i>'+'<i class="fa fa-check-circle p-adj"></i>'+'<a href="#">Facebook Verified</a>');$("#add_owner_id").val(value_all_json.user_id);$("#offer_add_owner_id").val(value_all_json.user_id);$('#write_review input[name="add_owner_id"]').val(value_all_json.user_id);$('#add_owner_rating').empty();for(i=0;i<value_all_json.user_rating;i++)
{$('#add_owner_rating').append('<i class="fa fa-star green-text"></i>')}
for(i=value_all_json.user_rating;i<5;i++)
{$('#add_owner_rating').append('<i class="fa fa-star-o"></i>')}}});$("#fb_share").attr("href",$('meta[name=fb_share_url]').attr("content")+"%23"+id);$("#tw_share").attr("href",$('meta[name=tw_share_url]').attr("content")+"%23"+id);$("#gp_share").attr("href",$('meta[name=gp_share_url]').attr("content")+"%23"+id);var mapDirectionUrl="https://www.google.com/maps/dir//"+$('#selected_add_direction').attr("address")+"/@"+$('#selected_add_direction').attr("location_lat")+","+$('#selected_add_direction').attr("location_lon");$('#selected_add_direction').attr("href",mapDirectionUrl)}});$('.ad-detail').show("slow");$('.ad-listing').hide("slow");$('.close-detail').addClass("show");$('.variable-width').slick(getSliderSettings())}
function ifDeviceIsMobile()
{return!($('#map').is(":visible"))}
function closeAddDetail()
{$('.ad-detail').hide("slow");$('.ad-listing').show("slow");$('.close-detail').removeClass("show");clearPrevRoutes()}
function openInfoWindowByID(clicked_id)
{last_opened_info_window_id=clicked_id;google.maps.event.trigger(map_div.gmap3({get:{id:last_opened_info_window_id}}),'click');fixInfowindowScroll()}
function openLastInfoWindow()
{if(last_opened_info_window_id!==-1)
{google.maps.event.trigger(map_div.gmap3({get:{id:last_opened_info_window_id}}),'click')}}
function pullPaginatorElementToFirstElement()
{if($('meta[name=is_paginator_clicked]').attr("content")==='false')
{$('meta[name=current_page_no]').attr("content",1);$('#show_paginator').bootpag({page:1})}
else{}}
function getSliderSettings()
{return{dots:!0,infinite:!0,autoplay:!1,speed:500,slidesToShow:1,centerMode:!0,variableWidth:!0,slidesToShow:1,slidesToScroll:1,arrows:!0}}
function fixInfowindowScroll()
{setTimeout(function()
{$(".map-master-div").parent().parent().attr("style","overflow: hidden; cursor: default; clear: both; position: relative; padding: 0px; background-color: rgb(255, 255, 255); border-color: rgb(204, 204, 204); border-style: solid; border-radius: 10px; border-width: 1px; width: 300px; height: 227px;");$(".map-master-div").css("width","100%")},100);setTimeout(function()
{$(".map-master-div").parent().parent().attr("style","overflow: hidden; cursor: default; clear: both; position: relative; padding: 0px; background-color: rgb(255, 255, 255); border-color: rgb(204, 204, 204); border-style: solid; border-radius: 10px; border-width: 1px; width: 300px; height: 227px;");$(".map-master-div").css("width","100%")},200);setTimeout(function()
{$(".map-master-div").parent().parent().attr("style","overflow: hidden; cursor: default; clear: both; position: relative; padding: 0px; background-color: rgb(255, 255, 255); border-color: rgb(204, 204, 204); border-style: solid; border-radius: 10px; border-width: 1px; width: 300px; height: 227px;");$(".map-master-div").css("width","100%")},400)}
function fixImageSlider()
{$('.listing-right').scrollTop(0);setTimeout(function()
{$('.variable-width').slick('unslick');$('.variable-width').slick(getSliderSettings())},500);setTimeout(function()
{$('.variable-width').slick('unslick');$('.variable-width').slick(getSliderSettings())},1000);setTimeout(function()
{$('.variable-width').slick('unslick');$('.variable-width').slick(getSliderSettings())},1500);setTimeout(function()
{$('.variable-width').slick('unslick');$('.variable-width').slick(getSliderSettings())},2000);setTimeout(function()
{$('.variable-width').slick('unslick');$('.variable-width').slick(getSliderSettings())},3000);setTimeout(function()
{$('.variable-width').slick('unslick');$('.variable-width').slick(getSliderSettings())},4000)}
function clearMarkers()
{map_div.gmap3({clear:{class:"markers"}});infoBubble.close();$("#box").empty()}
$(function()
{var totalImages=$(".loaded-image").size();var imagesLoaded=0;$('body').loadie();$(".loaded-image").bind("load",function()
{$(this).show();imagesLoaded++;$('body').loadie(imagesLoaded/totalImages)});(function($)
{$.fn.rating=function()
{var element;function _paintValue(ratingInput,value){var selectedStar=$(ratingInput).find('[data-value='+value+']');selectedStar.removeClass('fa-star-o').addClass('fa-star');selectedStar.prevAll('[data-value]').removeClass('fa-star-o').addClass('fa-star');selectedStar.nextAll('[data-value]').removeClass('fa-star').addClass('fa-star-o')}
function _clearValue(ratingInput)
{var self=$(ratingInput);self.find('[data-value]').removeClass('fa-star').addClass('fa-star-o');self.find('.rating-clear').hide();self.find('input').val('').trigger('change')}
for(element=this.length-1;element>=0;element--)
{var el,i,ratingInputs,originalInput=$(this[element]),max=originalInput.data('max')||5,min=originalInput.data('min')||0,clearable=originalInput.data('clearable')||null,stars='';for(i=min;i<=max;i++)
{stars+=['<span class="fa fa-star-o" data-value="',i,'"></span>'].join('')}
if(clearable)
{stars+=[' <a class="rating-clear" style="display:none;" href="javascript:void">','<span class="glyphicon glyphicon-remove"></span> ',clearable,'</a>'].join('')}
el=['<div class="rating-input">',stars,'<input type="hidden" name="',originalInput.attr('name'),'" value="',originalInput.val(),'" id="',originalInput.attr('id'),'" />','</div>'].join('');originalInput.replaceWith(el)}
$('.rating-input').on('mouseenter','[data-value]',function()
{var self=$(this);_paintValue(self.closest('.rating-input'),self.data('value'))}).on('mouseleave','[data-value]',function()
{var self=$(this);var val=self.siblings('input').val();if(val){_paintValue(self.closest('.rating-input'),val)}
else{_clearValue(self.closest('.rating-input'))}}).on('click','[data-value]',function(e){var self=$(this);var val=self.data('value');self.siblings('input').val(val).trigger('change');self.siblings('.rating-clear').show();e.preventDefault();!1}).on('click','.rating-clear',function(e){_clearValue($(this).closest('.rating-input'));e.preventDefault();!1}).each(function(){var val=$(this).find('input').val();if(val){_paintValue(this,val);$(this).find('.rating-clear').show()}})};$(function()
{if($('input.rating[type=number]').length>0)
{$('input.rating[type=number]').rating()}})}(jQuery))})